<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newslouds.com | Update Daily </title>
    
    <meta name="description" content="Newslouds.com daily update world news .">
    <link rel="canonical" href="https://newslouds-com.vercel.app/">

    <style>
        :root {
            --primary: #e63946;
            --dark: #1d3557;
            --light: #f1faee;
            --bg: #f8f9fa;
            --white: #ffffff;
            --text: #1d3557;
        }
        body.dark-mode {
            --bg: #121212; --white: #1e1e1e; --text: #f1faee; --light: #1d3557;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background-color: var(--bg); color: var(--text); line-height: 1.6; scroll-behavior: smooth; }

        header {
            background: var(--dark); color: var(--light); padding: 1rem 5%;
            display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 9999; box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        /* Judul Newslouds sekarang bisa diklik */
        header h1 a { color: var(--primary); text-decoration: none; font-size: 1.8rem; cursor: pointer; }

        .header-tools { display: flex; align-items: center; gap: 1rem; }
        nav ul { list-style: none; display: flex; gap: 15px; }
        nav a { color: var(--light); text-decoration: none; font-size: 0.9rem; font-weight: bold; }
        nav a:hover { color: var(--primary); }

        .container { width: 95%; max-width: 1200px; margin: 2rem auto; min-height: 70vh; }
        .category-section { margin-bottom: 3rem; scroll-margin-top: 100px; }
        
        .news-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; }
        
        .article-card { 
            background: var(--white); border-radius: 12px; overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); border: 1px solid rgba(0,0,0,0.1);
            display: flex; flex-direction: column; transition: 0.3s;
        }
        .article-card:hover { transform: translateY(-5px); border-color: var(--primary); }
        
        .article-thumb { width: 100%; height: 160px; object-fit: cover; background-color: #ddd; }
        .article-body { padding: 1.2rem; flex-grow: 1; display: flex; flex-direction: column; }
        .article-title { font-size: 1.1rem; font-weight: 700; margin: 0.5rem 0; }
        .article-title a { color: var(--text); text-decoration: none; }
        .article-date { font-size: 0.8rem; color: #777; margin-top: auto; padding-top: 10px; }

        .error-box { text-align: center; padding: 2rem; background: #ffe3e3; border-radius: 8px; color: #d00; margin: 1rem 0; }
        .btn-reload { background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 10px; }

        footer { background: var(--dark); color: var(--light); padding: 3rem 5%; text-align: center; margin-top: 4rem; }
        .footer-links { margin-top: 1rem; display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        .footer-links button { background: none; border: none; color: var(--light); cursor: pointer; text-decoration: underline; }

        @media (max-width: 768px) { nav { display: none; } }
    </style>
</head>
<body>

    <header>
        <h1><a href="/">Newslouds</a></h1>
        <div class="header-tools">
            <nav>
                <ul>
                    <li><a href="#sport">Sport</a></li>
                    <li><a href="#celebrity">Celebrity</a></li>
                    <li><a href="#economic">Economic</a></li>
                    <li><a href="#automotive">Automotive</a></li>
                </ul>
            </nav>
            <button onclick="document.body.classList.toggle('dark-mode')" style="cursor:pointer; padding:5px 10px; border-radius:5px; border:none; background:var(--primary); color:white;">Mode</button>
        </div>
    </header>

    <main class="container" id="main-content">
        <div id="loading-status" style="text-align: center; padding: 50px;">Memuat berita terbaru...</div>
    </main>

    <footer>
        <p>&copy; 2026 Newslouds.com - Berita Harian Anda</p>
        <div class="footer-links">
            <button onclick="alert('Newslouds adalah aggregator berita otomatis.')">Tentang Kami</button>
            <button onclick="alert('Email: admin@newslouds.com')">Kontak</button>
            <button onclick="alert('Kami menghargai privasi Anda.')">Privasi</button>
        </div>
    </footer>

    <script>
        const categories = ['sport', 'celebrity', 'economic', 'automotive'];
        const thumbMap = {
            'sport': 'https://images.unsplash.com/photo-1504450758481-7338eba7524a?w=400',
            'celebrity': 'https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=400',
            'economic': 'https://images.unsplash.com/photo-1611974714658-058e13f0709a?w=400',
            'automotive': 'https://images.unsplash.com/photo-1494976388531-d1058494cdd8?w=400'
        };

        async function fetchNews(category) {
            // Menggunakan proxy rss2json dengan parameter cache harian untuk menghindari rate limit
            const rssUrl = `https://news.google.com/rss/search?q=${category}+news&hl=id&gl=ID&ceid=ID:id`;
            const apiUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}&api_key=smjbqyboewxluaxmoafbxokpg3kzghc5kq0sc3iu`; 
            
            try {
                const res = await fetch(apiUrl);
                const data = await res.json();
                if (data.status === 'ok') return data.items.slice(0, 6);
                throw new Error('Limit tercapai');
            } catch (e) {
                console.error(e);
                return null; // Mengembalikan null untuk menandakan error
            }
        }

        async function init() {
            const main = document.getElementById('main-content');
            const loading = document.getElementById('loading-status');
            
            let hasError = false;

            for (const cat of categories) {
                const articles = await fetchNews(cat);
                
                if (articles === null) {
                    hasError = true;
                    continue;
                }

                if (loading) loading.remove();

                const sec = document.createElement('section');
                sec.className = 'category-section';
                sec.id = cat;
                sec.innerHTML = `<h2 style="margin-bottom:1.5rem; text-transform:capitalize;">Berita ${cat}</h2><div class="news-grid" id="grid-${cat}"></div>`;
                main.appendChild(sec);

                const grid = document.getElementById(`grid-${cat}`);
                articles.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'article-card';
                    card.innerHTML = `
                        <img src="${thumbMap[cat]}" class="article-thumb" alt="${cat}">
                        <div class="article-body">
                            <div style="font-size:0.7rem; color:var(--primary); font-weight:bold;">${item.source}</div>
                            <h3 class="article-title"><a href="${item.link}" target="_blank">${item.title}</a></h3>
                            <div class="article-date">ðŸ“… ${new Date(item.pubDate).toLocaleDateString('id-ID')}</div>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            }

            if (hasError && main.innerHTML === '') {
                main.innerHTML = `
                    <div class="error-box">
                        <h3>Oops! Koneksi ke server berita terputus.</h3>
                        <p>Terlalu banyak permintaan. Silakan coba lagi dalam beberapa menit.</p>
                        <button class="btn-reload" onclick="location.reload()">Coba Lagi</button>
                    </div>`;
            }
        }

        window.onload = init;
    </script>
</body>
</html>
